<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GamiCon Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- === FONT FIX: ADD POPPINS & KEEP 8-BIT FONT === -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Press+Start+2P&display=swap" rel="stylesheet">
    
    <style>
        /* === FONT FIX: APPLY FONTS STRATEGICALLY === */
        body { 
            font-family: 'Poppins', sans-serif; /* Readable font for body text */
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Press Start 2P', cursive; /* 8-bit font for headings */
        }
        
        /* --- THEME STYLES (now with Poppins) --- */
        
        /* 1. DEFAULT (Original Dark) */
        body.theme-default { background-color: #000; color: white; }
        .theme-default aside { background-color: #111827; border-color: #374151;}
        .theme-default main { background-color: #1f2937; }
        .theme-default .nav-link { color: #9ca3af; }
        .theme-default .nav-link:hover { background-color: #374151; color: white; }
        .theme-default .nav-link.active { background-color: #3b82f6; color: white; }
        .theme-default #profile-trigger:hover { background-color: #374151; }
        .theme-default .status-dot { border-color: #111827; }
        .theme-default header p { color: #9ca3af; }
        .theme-default .main-card { background-color: #1f2937; border: 4px solid #4b5563; }
        .theme-default .main-card:hover { border-color: #3b82f6; transform: translateY(-4px); }
        .theme-default .main-card-icon { color: #6b7280; }
        .theme-default .main-card:hover .main-card-icon { color: #3b82f6; }
        .theme-default #status-popup { background-color: #111827; border-color: #4b5563; }
        .theme-default .popup-status-text { color: #9ca3af; }
        .theme-default .popup-separator { border-color: #374151; }
        .theme-default .popup-option:hover { background-color: #3b82f6; }

        /* 2. LIGHT GRAY (Eye-friendly Light) */
        body.theme-light-gray { background-color: #f4f4f5; color: #334155; }
        .theme-light-gray aside { background-color: #ffffff; border-color: #e5e7eb; }
        .theme-light-gray main { background-color: #f4f4f5; }
        .theme-light-gray .nav-link { color: #475569; }
        .theme-light-gray .nav-link:hover { background-color: #f3f4f6; color: #1e293b; }
        .theme-light-gray .nav-link.active { background-color: #2563eb; color: white; }
        .theme-light-gray #profile-trigger:hover { background-color: #f3f4f6; }
        .theme-light-gray .status-dot { border-color: #ffffff; }
        .theme-light-gray header p { color: #64748b; }
        .theme-light-gray .main-card { background-color: #ffffff; border-color: #e5e7eb; }
        .theme-light-gray #status-popup { background-color: #ffffff; border-color: #e5e7eb; color: #334155; }
        .theme-light-gray .popup-status-text { color: #64748b; }
        .theme-light-gray .popup-separator { border-color: #f3f4f6; }
        .theme-light-gray .popup-option:hover { background-color: #3b82f6; color: white; }

        /* 3. TRUE DARK (High Contrast) */
        body.theme-true-dark { background-color: #000; color: #fff; }
        .theme-true-dark aside { background-color: #101010; border-color: #333; }
        .theme-true-dark main { background-color: #000; }
        .theme-true-dark .nav-link { color: #aaa; }
        .theme-true-dark .nav-link:hover { background-color: #222; color: #fff; }
        .theme-true-dark .nav-link.active { background-color: #fff; color: #000; }
        .theme-true-dark #profile-trigger:hover { background-color: #222; }
        .theme-true-dark .status-dot { border-color: #101010; }
        .theme-true-dark header p { color: #aaa; }
        .theme-true-dark .main-card { background-color: #181818; border-color: #333; }
        .theme-true-dark .main-card:hover { border-color: #fff; }
        .theme-true-dark #status-popup { background-color: #181818; border-color: #333; }
        .theme-true-dark .popup-separator { border-color: #333; }
        .theme-true-dark .popup-option:hover { background-color: #fff; color: #000; }

        /* Universal Styles */
        .main-card { transition: all 0.2s ease-in-out; cursor: pointer; border-radius: 8px; }
        .main-card-icon { width: 4rem; height: 4rem; margin-bottom: 1rem; transition: color 0.2s ease-in-out; }
        .nav-link { display: flex; align-items: center; padding: 0.75rem 0.5rem; font-size: 0.9rem; font-weight: 600; transition: all 0.2s; border-radius: 4px; }
        .nav-link > span { margin-left: 0.75rem; }
        #profile-trigger { cursor: pointer; padding: 0.5rem; border-radius: 4px; transition: background-color 0.2s; }
        .status-dot { width: 12px; height: 12px; border-radius: 50%; position: absolute; bottom: 0; right: 0; }
        .status-online { background-color: #22c55e; }
        .status-idle { background-color: #f59e0b; }
        .status-dnd { background-color: #ef4444; }
        .status-invisible { background-color: #6b7280; }
        #status-popup { position: fixed; border-radius: 8px; width: 240px; padding: 0.5rem; box-shadow: 0 4px 12px rgba(0,0,0,0.4); z-index: 50; }
        .popup-header { padding: 0.75rem; }
        .popup-username { font-size: 1rem; font-weight: 700; }
        .popup-status-text { font-size: 0.8rem; }
        .popup-separator { margin: 0.5rem 0; }
        .popup-option { display: flex; align-items: center; padding: 0.75rem; border-radius: 4px; font-size: 0.9rem; font-weight: 600; cursor: pointer; }
        .popup-option .status-dot { position: static; border: none; margin-right: 0.75rem; }
    </style>
</head>
<body class="theme-default">
    <div class="flex min-h-screen">
        <aside class="w-64 p-4 flex-col justify-between hidden md:flex">
            <nav class="space-y-2">
                <a href="main1.html" class="nav-link active"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg><span>Dashboard</span></a>
                <a href="#" class="nav-link"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg><span>Chat</span></a>
            </nav>
            <div id="profile-trigger" class="flex items-center space-x-3">
                <div class="relative"><img src="https://i.pravatar.cc/50?u=player1" alt="Avatar" class="w-10 h-10 rounded-full"><span id="status-dot" class="status-dot status-online"></span></div>
                <div><h3 id="sidebar-username" class="text-sm font-bold">PlayerOne</h3></div>
            </div>
        </aside>
        <main class="flex-1 p-6 md:p-10">
            <header class="mb-8"><h1 id="welcome-header" class="text-2xl md:text-3xl">CHOOSE YOUR MISSION, Player!</h1><p class="text-base mt-2">What are you looking for today?</p></header>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><a href="#" class="main-card p-8 text-center block"><svg class="main-card-icon mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 12a4 4 0 110-8 4 4 0 010 8z"></path></svg><h2 class="text-xl font-bold mb-2">Find a Long-Term Buddy</h2><p class="text-base leading-relaxed mb-6">Swipe through profiles to find your perfect gaming partner.</p><div class="inline-block bg-blue-600 text-white px-6 py-3 font-bold text-sm">START SWIPING</div></a><a href="#" class="main-card p-8 text-center block"><svg class="main-card-icon mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg><h2 class="text-xl font-bold mb-2">Play Now</h2><p class="text-base leading-relaxed mb-6">Jump into the action immediately. Browse or create a room.</p><div class="inline-block bg-green-600 text-white px-6 py-3 font-bold text-sm">JOIN A ROOM</div></a></div>
        </main>
    </div>
    <div id="status-popup" class="hidden">
        <div class="popup-header"><h4 id="popup-username" class="popup-username">PlayerOne</h4><p id="popup-status-text" class="popup-status-text">Online</p></div><hr class="popup-separator">
        <div class="popup-option" data-status="online"><span class="status-dot status-online"></span><span>Online</span></div>
        <div class="popup-option" data-status="idle"><span class="status-dot status-idle"></span><span>Idle</span></div>
        <div class="popup-option" data-status="dnd"><span class="status-dot status-dnd"></span><span>Do Not Disturb</span></div>
        <div class="popup-option" data-status="invisible"><span class="status-dot status-invisible"></span><span>Invisible</span></div><hr class="popup-separator">
        <a href="profile.html" class="popup-option"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L14.732 3.732z"></path></svg><span>Edit Profile</span></a>
        <a href="settings.html" class="popup-option"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><span>Settings</span></a>
        <hr class="popup-separator">
        <a href="index.html" class="popup-option"><svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg><span>Log Out</span></a>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const body = document.body;
            const themeClasses = ['theme-default', 'theme-light-gray', 'theme-true-dark'];

            const applyTheme = (theme) => {
                body.className = body.className.replace(/theme-\S+/g, '').trim();
                body.classList.add(theme);
            };
            const savedTheme = localStorage.getItem('gamicon_theme') || 'theme-default';
            applyTheme(savedTheme);

            const username = localStorage.getItem('gamicon_username');
            const welcomeHeader = document.getElementById('welcome-header');
            const sidebarUsername = document.getElementById('sidebar-username');
            const popupUsername = document.getElementById('popup-username');
            if (username) {
                const sanitizedUsername = username.replace(/</g, "<").replace(/>/g, ">");
                if (welcomeHeader) welcomeHeader.textContent = `CHOOSE YOUR MISSION, ${sanitizedUsername}!`;
                sidebarUsername.textContent = sanitizedUsername;
                popupUsername.textContent = sanitizedUsername;
            }

            const profileTrigger = document.getElementById('profile-trigger');
            const statusPopup = document.getElementById('status-popup');
            const statusDot = document.getElementById('status-dot');
            const popupStatusText = document.getElementById('popup-status-text');
            const statusOptions = document.querySelectorAll('.popup-option[data-status]');

            const setStatus = (status) => {
                statusDot.className = 'status-dot';
                let statusTextContent = 'Online';
                switch (status) {
                    case 'idle': statusDot.classList.add('status-idle'); statusTextContent = 'Idle'; break;
                    case 'dnd': statusDot.classList.add('status-dnd'); statusTextContent = 'Do Not Disturb'; break;
                    case 'invisible': statusDot.classList.add('status-invisible'); statusTextContent = 'Invisible'; break;
                    default: statusDot.classList.add('status-online'); statusTextContent = 'Online'; break;
                }
                popupStatusText.textContent = statusTextContent;
                localStorage.setItem('gamicon_status', status);
                statusPopup.classList.add('hidden');
            };
            const savedStatus = localStorage.getItem('gamicon_status');
            if (savedStatus) setStatus(savedStatus);

            profileTrigger.addEventListener('click', (event) => {
                event.stopPropagation();
                const rect = profileTrigger.getBoundingClientRect();
                statusPopup.style.left = `${rect.left}px`;
                statusPopup.style.bottom = `${window.innerHeight - rect.top}px`;
                statusPopup.classList.toggle('hidden');
            });
            statusOptions.forEach(option => {
                option.addEventListener('click', (event) => {
                    event.stopPropagation();
                    const newStatus = event.currentTarget.dataset.status;
                    setStatus(newStatus);
                });
            });
            window.addEventListener('click', () => {
                if (!statusPopup.classList.contains('hidden')) {
                    statusPopup.classList.add('hidden');
                }
            });
        });
    </script>
</body>
</html>
